!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.ScrollScout=n()}(this,function(){"use strict";function e(e){return e&&e.__esModule?e.default:e}function n(e,n){return n={exports:{}},e(n,n.exports),n.exports}for(var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=n(function(e){(function(){var n,t,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(n()-o)/1e6},t=process.hrtime,n=function(){var e;return e=t(),1e9*e[0]+e[1]},o=n()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(t)}),r=o,i="undefined"==typeof window?t:window,u=["moz","webkit"],c="AnimationFrame",f=i["request"+c],l=i["cancel"+c]||i["cancelRequest"+c],a=0;!f&&a<u.length;a++)f=i[u[a]+"Request"+c],l=i[u[a]+"Cancel"+c]||i[u[a]+"CancelRequest"+c];if(!f||!l){var d=0,s=0,p=[],v=1e3/60;f=function(e){if(0===p.length){var n=r(),t=Math.max(0,v-(n-d));d=t+n,setTimeout(function(){var e=p.slice(0);p.length=0;for(var n=0;n<e.length;n++)if(!e[n].cancelled)try{e[n].callback(d)}catch(e){setTimeout(function(){throw e},0)}},Math.round(t))}return p.push({handle:++s,callback:e,cancelled:!1}),s},l=function(e){for(var n=0;n<p.length;n++)p[n].handle===e&&(p[n].cancelled=!0)}}var m=function(e){return f.call(i,e)},h=function(){l.apply(i,arguments)},w=function(){i.requestAnimationFrame=f,i.cancelAnimationFrame=l};m.cancel=h,m.polyfill=w;var y=n(function(e,n){function t(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0});var r=m,i=t(r),u=function(e){var n=void 0,t=function(t){return function(){n=null,e.apply(void 0,o(t))}},r=function(){for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];null==n&&(n=(0,i.default)(t(o)))};return r.cancel=function(){return i.default.cancel(n)},r};n.default=u}),g=e(y);window.requestAnimationFrame||m.polyfill();var b=new function(){function e(e){v=e}function n(){f=window.innerHeight,l=window.scrollY||window.pageYOffset}function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,t=l,o=t+f,r=u(e),i=r+e.offsetHeight,c=n/100*f;return i>=t-c&&r<=o+c}function o(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return new Promise(function(u){n(),t(e,o)?u(e):(r({element:e,threshold:o,resolve:u}),i(!0))})}function r(e){d++,a[d]=e}function i(e){var n=void 0;e?(n=!m&&"addEventListener",m=!0):(n="removeEventListener",m=!1),n&&s.forEach(function(e){return window[n](e,p)})}function u(e){return e.getBoundingClientRect().top+l}function c(){v(),n(),Object.keys(a).forEach(function(e){t(a[e].element,a[e].threshold)&&(a[e].resolve(a[e].element),delete a[e])}),0===Object.keys(a).length&&i(!1)}var f=void 0,l=void 0,a={},d=0,s=["scroll","resize"],p=g(c),v=function(){},m=!1;return{becomesVisible:o,isVisible:t,setOnEvent:e}};return b});
